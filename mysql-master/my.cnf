[mysqld]
# Уникальный ID сервера
server-id=1

# Бинарное логирование (нужно для репликации)
log_bin=/var/log/mysql/mysql-bin.log
binlog_format=ROW

# Базы данных для логирования (опционально, логируем всё)
binlog_do_db=myapp_db

# Не логируем системные базы
binlog_ignore_db=mysql
binlog_ignore_db=information_schema
binlog_ignore_db=performance_schema

# Количество дней сохранения логов
expire_logs_days=7

# Максимальный размер бин лога
max_binlog_size=100M

# Репликация параметры
relay-log=mysql-relay-bin
relay-log-index=mysql-relay-bin.index

# Улучшенная безопасность
skip-name-resolve

# Кодировка
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# Максимум соединений
max_connections=1000
max_allowed_packet=256M