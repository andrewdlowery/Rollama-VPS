[mysqld]
# Уникальный ID сервера (должен отличаться от master)
server-id=2

# Relay logs
relay-log=/var/log/mysql/mysql-relay-bin
relay-log-index=/var/log/mysql/mysql-relay-bin.index

# Skip slave
skip-slave-start

# Логирование для slave (опционально, для отладки)
log_bin=/var/log/mysql/mysql-bin.log
binlog_format=ROW

# Параметры репликации
binlog_do_db=myapp_db
binlog_ignore_db=mysql
binlog_ignore_db=information_schema
binlog_ignore_db=performance_schema

# Безопасность
skip-name-resolve

# Кодировка
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci

# Максимум соединений
max_connections=1000
max_allowed_packet=256M

# Slave параметры (безопасность репликации)
read_only=ON
relay-log-recovery=ON